---
title: 'CA2241 : Fournissez des arguments corrects aux méthodes de mise en forme'
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- CA2241
- Provide correct arguments to formatting methods
- ProvideCorrectArgumentsToFormattingMethods
helpviewer_keywords:
- ProvideCorrectArgumentsToFormattingMethods
- CA2241
ms.assetid: 83639bc4-4c91-4a07-a40e-dc5e49a84494
author: jillre
ms.author: jillfra
manager: jillfra
dev_langs:
- CSharp
- VB
ms.workload:
- multiple
ms.openlocfilehash: f5798aa6181fe1f7150ad89c3e678a7c0e0bce10
ms.sourcegitcommit: c222052906362bf1a3762ec4d4623170e4e06702
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/04/2019
ms.locfileid: "74809726"
---
# <a name="ca2241-provide-correct-arguments-to-formatting-methods"></a>CA2241 : Fournissez des arguments corrects aux méthodes de mise en forme

|||
|-|-|
|TypeName|ProvideCorrectArgumentsToFormattingMethods|
|CheckId|CA2241|
|Category|Microsoft.Usage|
|Modification avec rupture|Sans rupture|

## <a name="cause"></a>Cause
L’argument de chaîne `format` passé à une méthode comme <xref:System.Console.WriteLine%2A>, <xref:System.Console.Write%2A>ou <xref:System.String.Format%2A?displayProperty=fullName> ne contient pas d’élément de mise en forme qui correspond à chaque argument d’objet, ou vice versa.

Par défaut, cette règle analyse uniquement les appels aux trois méthodes mentionnées ci-dessus, mais elle peut être [configurée](#configurability). 

## <a name="rule-description"></a>Description de la règle
Les arguments des méthodes, telles que <xref:System.Console.WriteLine%2A>, <xref:System.Console.Write%2A>et <xref:System.String.Format%2A> se composent d’une chaîne de format suivie de plusieurs instances de <xref:System.Object?displayProperty=fullName>. La chaîne de format se compose de texte et d’éléments de mise en forme incorporés sous la forme {index [, Alignment] [ : formatString]}. 'index’est un entier de base zéro qui indique les objets à mettre en forme. Si un objet n’a pas d’index correspondant dans la chaîne de format, l’objet est ignoré. Si l’objet spécifié par’index’n’existe pas, une <xref:System.FormatException?displayProperty=fullName> est levée au moment de l’exécution.

## <a name="how-to-fix-violations"></a>Comment corriger les violations
Pour corriger une violation de cette règle, fournissez un élément de mise en forme pour chaque argument d’objet et fournissez un argument d’objet pour chaque élément de mise en forme.

## <a name="when-to-suppress-warnings"></a>Quand supprimer les avertissements
Ne supprimez aucun avertissement de cette règle.

## <a name="configurability"></a>Configurabilité

Si vous exécutez cette règle à partir d' [analyseurs FxCop](install-fxcop-analyzers.md) (et non avec l’analyse héritée), cette règle est configurable.

### <a name="additional-string-formatting-methods"></a>Méthodes de mise en forme de chaînes supplémentaires

Vous pouvez configurer des noms de méthodes de mise en forme de chaîne supplémentaires qui doivent être analysés par cette règle. Par exemple, pour spécifier toutes les méthodes nommées `MyFormat` en tant que méthodes de mise en forme de chaîne, vous pouvez ajouter la paire clé-valeur suivante à un fichier. editorconfig dans votre projet :

```ini
dotnet_code_quality.CA2241.additional_string_formatting_methods = MyFormat
```

Formats de nom de méthode autorisés dans la valeur de l’option (séparés par' | ') :
  - Nom de la méthode uniquement (comprend toutes les méthodes portant le nom, quel que soit le type ou l’espace de noms conteneur)
  - Noms qualifiés complets dans le format d' [ID de documentation](https://github.com/dotnet/csharplang/blob/master/spec/documentation-comments.md#id-string-format)du symbole, avec un préfixe `M:` facultatif.

Exemples :

| Valeur d’option | Récapitulatif |
| --- | --- |
|`dotnet_code_quality.CA2241.additional_string_formatting_methods = MyFormat` | Correspond à toutes les méthodes nommées « MyFormat » dans la compilation
|`dotnet_code_quality.CA2241.additional_string_formatting_methods = MyFormat1|MyFormat2` | Correspond à toutes les méthodes nommées’MyFormat1 'ou’MyFormat2 'dans la compilation
|`dotnet_code_quality.CA2241.additional_string_formatting_methods = NS.MyType.MyFormat(ParamType)` | Correspond à la méthode spécifique’MyFormat’avec la signature complète donnée
|`dotnet_code_quality.CA2241.additional_string_formatting_methods = NS1.MyType1.MyFormat1(ParamType)|NS2.MyType2.MyFormat2(ParamType)` | Met en correspondance des méthodes spécifiques « MyFormat1 » et « MyFormat2 » avec la signature complète respective

Vous pouvez configurer cette option uniquement pour cette règle, pour toutes les règles ou pour toutes les règles de cette catégorie (utilisation). Pour plus d’informations, consultez [configurer les analyseurs FxCop](configure-fxcop-analyzers.md).

## <a name="example"></a>Exemple
L’exemple suivant montre deux violations de la règle.

[!code-vb[FxCop.Usage.FormattingArguments#1](../code-quality/codesnippet/VisualBasic/ca2241-provide-correct-arguments-to-formatting-methods_1.vb)]
[!code-csharp[FxCop.Usage.FormattingArguments#1](../code-quality/codesnippet/CSharp/ca2241-provide-correct-arguments-to-formatting-methods_1.cs)]
