---
title: 'CA1303 : Ne pas transmettre des littéraux en tant que paramètres localisés'
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- Do not pass literals as localized parameters
- DoNotPassLiteralsAsLocalizedParameters
- CA1303
helpviewer_keywords:
- DoNotPassLiteralsAsLocalizedParameters
- CA1303
ms.assetid: 904d284e-76d0-4b8f-a4df-0094de8d7aac
author: mikejo5000
ms.author: mikejo
manager: jillfra
dev_langs:
- CPP
- CSharp
- VB
ms.workload:
- multiple
ms.openlocfilehash: e6b4fad16bc1c4b205ea09a39af8d38e08db848f
ms.sourcegitcommit: ade07bd1cf69b8b494d171ae648cfdd54f7800d3
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/21/2020
ms.locfileid: "81649161"
---
# <a name="ca1303-do-not-pass-literals-as-localized-parameters"></a>CA1303 : Ne pas transmettre des littéraux en tant que paramètres localisés

|||
|-|-|
|TypeName|DoNotPassLiteralsAsLocalizedParameters|
|CheckId|CA1303|
|Category|Microsoft.Globalisation|
|Modification avec rupture|Non-rupture|

## <a name="cause"></a>Cause

Une méthode passe une chaîne littérale comme paramètre à un constructeur .NET ou une méthode et cette chaîne doit être localisable.

Cet avertissement est soulevé lorsqu’une chaîne littérale est transmise comme valeur d’un paramètre ou d’une propriété et qu’un ou plusieurs des cas suivants sont vrais :

- L’attribut <xref:System.ComponentModel.LocalizableAttribute> du paramètre ou de la propriété est défini comme vrai.

- Le nom du paramètre de chaîne qui est passé à une méthode Console.Write ou Console.WriteLine est soit "valeur" ou "format".

Par défaut, cette règle analyse toute la base de code, mais [c’est configurable](#excluded-type-names-with-derived-types).

A partir de la version 3.0.0 du paquet analyseur, le nom heuristique n’est plus utilisé par défaut mais [c’est configurable.](#use-naming-heuristic)

## <a name="rule-description"></a>Description de la règle

Les littérals de cordes qui sont intégrés dans le code source sont difficiles à localiser.

## <a name="how-to-fix-violations"></a>Comment corriger les violations

Pour corriger une violation de cette règle, remplacez la chaîne littérale <xref:System.Resources.ResourceManager> par une chaîne récupérée par une instance de la classe.

## <a name="when-to-suppress-warnings"></a>Quand supprimer les avertissements

Il est sûr de supprimer un avertissement de cette règle si la bibliothèque de code ne sera pas localisée ou si la chaîne n’est pas exposée à l’utilisateur final ou un développeur utilisant la bibliothèque de code.

Les utilisateurs peuvent éliminer le bruit contre les méthodes qui ne doivent pas être passé les chaînes localisées en renommant le paramètre ou la propriété, ou en marquant ces éléments comme conditionnel.

## <a name="configurability"></a>Configurabilité

Si vous exécutez cette règle à partir [d’analyseurs FxCop](install-fxcop-analyzers.md) (et non avec l’analyse de l’héritage), cette règle est configurable.

### <a name="excluded-type-names-with-derived-types"></a>Noms de type exclus avec les types dérivés

Vous pouvez configurer quels types, y compris ses types dérivés, pour exclure de l’analyse. Par exemple, pour spécifier que la règle `MyType` ne doit pas s’exécuter sur les méthodes dans les types nommés et ses types dérivés, ajoutez la paire de valeur clé suivante à un fichier .editorconfig dans votre projet :

```ini
dotnet_code_quality.CA1303.excluded_type_names_with_derived_types = MyType
```

Formats de nom de symbole autorisés dans la valeur d’option (séparés par '') :

- Nom de type seulement (inclut tous les types avec le nom, indépendamment du type de contenu ou de l’espace de nom)
- Noms entièrement qualifiés dans le [format d’identification](https://github.com/dotnet/csharplang/blob/master/spec/documentation-comments.md#id-string-format)de documentation du symbole, avec un préfixe optionnel. `T:`

Exemples :

| Valeur d’option | Résumé |
| --- | --- |
|`dotnet_code_quality.CA1303.excluded_type_names_with_derived_types = MyType` | Correspond à tous les types nommés 'MyType' et tous ses types dérivés dans la compilation
|`dotnet_code_quality.CA1303.excluded_type_names_with_derived_types = MyType1|MyType2` | Correspond à tous les types nommés 'MyType1' ou 'MyType2' et tous leurs types dérivés dans la compilation
|`dotnet_code_quality.CA1303.excluded_type_names_with_derived_types = M:NS.MyType` | Correspond à type spécifique 'MyType' avec un nom entièrement qualifié et tous ses types dérivés
|`dotnet_code_quality.CA1303.excluded_type_names_with_derived_types = M:NS1.MyType1|M:NS2.MyType2` | Correspond à des types spécifiques 'MyType1' et 'MyType2' avec des noms respectifs pleinement qualifiés et tous leurs types dérivés

Vous pouvez configurer cette option pour cette seule règle, pour toutes les règles, ou pour toutes les règles de cette catégorie (Mondialisation). Pour plus d’informations, voir [Configurer les analyseurs FxCop](configure-fxcop-analyzers.md).

### <a name="use-naming-heuristic"></a>Utiliser le nom heuristique

Vous pouvez configurer si des paramètres ou des noms de propriétés contenant "Texte", "Message" ou "Caption" déclencheront cette règle.

```ini
dotnet_code_quality.CA1303.use_naming_heuristic = true
```

## <a name="example"></a>Exemple

L’exemple suivant montre une méthode qui jette une exception lorsque l’un de ses deux arguments est hors de portée. Pour le premier argument, le constructeur d’exception est passé une chaîne littérale, qui viole cette règle. Pour le deuxième argument, le constructeur est correctement <xref:System.Resources.ResourceManager>passé une chaîne récupérée à travers un .

[!code-cpp[FxCop.Globalization.DoNotPassLiterals#1](../code-quality/codesnippet/CPP/ca1303-do-not-pass-literals-as-localized-parameters_1.cpp)]
[!code-vb[FxCop.Globalization.DoNotPassLiterals#1](../code-quality/codesnippet/VisualBasic/ca1303-do-not-pass-literals-as-localized-parameters_1.vb)]
[!code-csharp[FxCop.Globalization.DoNotPassLiterals#1](../code-quality/codesnippet/CSharp/ca1303-do-not-pass-literals-as-localized-parameters_1.cs)]

## <a name="see-also"></a>Voir aussi

- [Ressources dans des applications de bureau](/dotnet/framework/resources/index)
- [Demande communautaire de changement de comportement](https://github.com/dotnet/roslyn-analyzers/issues/2933)
