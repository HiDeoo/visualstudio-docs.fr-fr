---
title: 'CA2014 : Ne pas utiliser stackalloc dans les boucles'
ms.date: 06/18/2020
ms.topic: reference
f1_keywords:
- DoNotUseStackallocInLoops
- CA2014
helpviewer_keywords:
- DoNotUseStackallocInLoops
- CA2014
author: stephentoub
ms.author: stoub
manager: jeffhand
ms.workload:
- multiple
ms.openlocfilehash: 2a1093f672498ab3848fe7c788dafa805cd33a40
ms.sourcegitcommit: 71dc01c3d94ea79a0cafa41ee5ab02fd86ec2bad
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/08/2020
ms.locfileid: "89541666"
---
# <a name="ca2014-do-not-use-stackalloc-in-loops"></a>CA2014 : Ne pas utiliser stackalloc dans les boucles

|Élément|Valeur|
|-|-|
|CheckId|Ca2014|
|Category|Microsoft. fiabilité|
|Modification avec rupture|Sans rupture|

## <a name="cause"></a>Cause

Utilisation de l' [expression C# stackalloc](/dotnet/csharp/language-reference/operators/stackalloc) à l’intérieur d’une boucle.

## <a name="rule-description"></a>Description de la règle

L' `stackalloc` expression C# alloue de la mémoire à partir du frame de pile actuel, et cette mémoire ne peut pas être libérée tant que l’appel de la méthode en cours n’est pas retourné. Si `stackalloc` est utilisé dans une boucle, cela peut entraîner des dépassements de capacité de la pile en raison de l’épuisement de la mémoire de la pile.

## <a name="how-to-fix-violations"></a>Comment corriger les violations

Déplacez l' `stackalloc` expression en dehors de toutes les boucles dans la méthode.

## <a name="when-to-suppress-warnings"></a>Quand supprimer les avertissements

Il peut être prudent de supprimer l’avertissement lorsque la ou les boucles conteneur sont appelées uniquement un nombre fini de fois, de telle sorte que la quantité globale de mémoire allouée pour toutes les `stackalloc` opérations est connue pour être relativement faible.

## <a name="see-also"></a>Voir aussi

- [Avertissements liés à la fiabilité](../code-quality/reliability-warnings.md)
