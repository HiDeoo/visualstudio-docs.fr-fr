---
title: 'CA2014 : Ne pas utiliser stackalloc dans les boucles'
ms.date: 06/18/2020
ms.topic: reference
f1_keywords:
- DoNotUseStackallocInLoops
- CA2014
helpviewer_keywords:
- DoNotUseStackallocInLoops
- CA2014
author: stephentoub
ms.author: stoub
manager: jeffhand
ms.workload:
- multiple
ms.openlocfilehash: f61023e22d3aa069a2bdfcd9a801aac387e6831d
ms.sourcegitcommit: 5caad925ca0b5d136416144a279e984836d8f28c
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/07/2020
ms.locfileid: "89508897"
---
# <a name="ca2014-do-not-use-stackalloc-in-loops"></a>CA2014 : Ne pas utiliser stackalloc dans les boucles

|Élément|Valeur|
|-|-|
|CheckId|Ca2014|
|Category|Microsoft. fiabilité|
|Modification avec rupture|Sans rupture|

## <a name="cause"></a>Cause

Utilisation du mot clé C# stackalloc à l’intérieur d’une boucle.

## <a name="rule-description"></a>Description de la règle

Le mot clé C# stackalloc alloue de la mémoire à partir du frame de pile actuel, et cette mémoire ne peut pas être libérée tant que l’appel de la méthode en cours n’est pas retourné.  Si le mot clé stackalloc est utilisé dans une boucle, cela peut entraîner des dépassements de capacité de la pile en raison de l’épuisement de la mémoire de la pile.

## <a name="how-to-fix-violations"></a>Comment corriger les violations

Déplacez stackalloc vers l’extérieur de toutes les boucles de la méthode.

## <a name="when-to-suppress-warnings"></a>Quand supprimer les avertissements

Il peut être prudent de supprimer l’avertissement lorsque la ou les boucles conteneur sont appelées uniquement un nombre fini de fois, de telle sorte que la quantité globale de mémoire allouée dans toutes les opérations stackalloc est relativement faible.

## <a name="see-also"></a>Voir aussi

- [Avertissements liés à la fiabilité](../code-quality/reliability-warnings.md)
