---
title: 'CA5361 : Ne pas désactiver l’utilisation du chiffrement fort par SChannel'
description: Fournit des informations sur la règle d’analyse du code CA5361, notamment les causes, comment corriger les violations et quand la supprimer.
ms.date: 07/12/2019
ms.topic: reference
author: dotpaul
ms.author: paulming
manager: jillfra
dev_langs:
- CSharp
- VB
ms.workload:
- multiple
f1_keywords:
- CA5361
- DoNotSetSwitch
ms.openlocfilehash: 6bf30151000723b6ad85a345086f2a59c6d6dc44
ms.sourcegitcommit: 0c2523d975d48926dd2b35bcd2d32a8ae14c06d8
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/24/2019
ms.locfileid: "71236911"
---
# <a name="ca5361-do-not-disable-schannel-use-of-strong-crypto"></a>CA5361 : Ne pas désactiver l’utilisation du chiffrement fort par SChannel

|||
|-|-|
|TypeName|DoNotSetSwitch|
|CheckId|CA5361|
|Category|Microsoft.Security|
|Modification avec rupture|Sans rupture|

## <a name="cause"></a>Cause

Un <xref:System.AppContext.SetSwitch%2A?displayProperty=nameWithType> appel de méthode `Switch.System.Net.DontEnableSchUseStrongCrypto` affecte `true`à la valeur.

## <a name="rule-description"></a>Description de la règle

Le `Switch.System.Net.DontEnableSchUseStrongCrypto` paramètre `true` pour assouplit le chiffrement utilisé dans les connexions TLS (Transport Layer Security) sortantes. Un chiffrement plus faible peut compromettre la confidentialité de la communication entre votre application et le serveur, ce qui permet aux attaquants d’espionner facilement les données sensibles. Pour plus d’informations, consultez [meilleures pratiques en matière de sécurité TLS (Transport Layer Security) avec l' .NET Framework](/dotnet/framework/network-programming/tls#switchsystemnetdontenableschusestrongcrypto).

## <a name="how-to-fix-violations"></a>Comment corriger les violations

- Si votre application cible .NET Framework v 4.6 ou une version ultérieure, vous pouvez soit <xref:System.AppContext.SetSwitch%2A?displayProperty=nameWithType> supprimer l’appel de méthode, soit définir la valeur `false`du commutateur sur.
- Si votre application cible .NET Framework antérieure à la version v 4.6 et s’exécute sur .NET Framework v 4.6 ou une version ultérieure, définissez `false`la valeur du commutateur sur.
- Dans le cas contraire, reportez-vous aux [meilleures pratiques de TLS (Transport Layer Security) avec le .NET Framework pour les](/dotnet/framework/network-programming/tls) atténuations.

## <a name="when-to-suppress-warnings"></a>Quand supprimer les avertissements

Vous pouvez supprimer cet avertissement si vous devez vous connecter à un service hérité qui ne peut pas être mis à niveau pour utiliser des configurations TLS sécurisées.

## <a name="pseudo-code-examples"></a>Exemples de pseudo-code

### <a name="violation"></a>Violation

```csharp
using System;

public class ExampleClass
{
    public void ExampleMethod()
    {
        // CA5361 violation
        AppContext.SetSwitch("Switch.System.Net.DontEnableSchUseStrongCrypto", true);
    }
}
```

```vb
Imports System

Public Class ExampleClass
    Public Sub ExampleMethod()
        ' CA5361 violation
        AppContext.SetSwitch("Switch.System.Net.DontEnableSchUseStrongCrypto", true)
    End Sub
End Class
```

### <a name="solution"></a>Solution

```csharp
using System;

public class ExampleClass
{
    public void ExampleMethod()
    {
        AppContext.SetSwitch("Switch.System.Net.DontEnableSchUseStrongCrypto", false);
    }
}
```

```vb
Imports System

Public Class ExampleClass
    Public Sub ExampleMethod()
        AppContext.SetSwitch("Switch.System.Net.DontEnableSchUseStrongCrypto", false)
    End Sub
End Class
```