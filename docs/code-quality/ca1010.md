---
title: 'CA1010 : Les collections doivent implémenter une interface générique'
ms.date: 03/11/2019
ms.topic: reference
f1_keywords:
- CA1010
- CollectionsShouldImplementGenericInterface
helpviewer_keywords:
- CA1010
- CollectionsShouldImplementGenericInterface
ms.assetid: c7d7126f-fa70-40be-8f93-3243e1760dc5
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: a5aec731f453ae7e29f74d6c0198cf16d1ca1f77
ms.sourcegitcommit: ade07bd1cf69b8b494d171ae648cfdd54f7800d3
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/21/2020
ms.locfileid: "81648489"
---
# <a name="ca1010-collections-should-implement-generic-interface"></a>CA1010 : Les collections doivent implémenter une interface générique

|||
|-|-|
|TypeName|CollectionsShouldImplementGenericInterface|
|CheckId|CA1010|
|Category|Microsoft.Design (en)|
|Modification avec rupture|Non-rupture|

## <a name="cause"></a>Cause

Un type implémente l’interface <xref:System.Collections.IEnumerable?displayProperty=fullName> mais ne met pas en œuvre l’interface, <xref:System.Collections.Generic.IEnumerable%601?displayProperty=fullName> et les cibles d’assemblage contenant .NET. Cette règle ne tient <xref:System.Collections.IDictionary?displayProperty=fullName>pas compte des types qui mettent en œuvre .

Par défaut, cette règle ne regarde que les types visibles à l’extérieur, mais [c’est configurable](#configurability). Vous pouvez également configurer des interfaces supplémentaires pour exiger la mise en œuvre d’une interface générique.

## <a name="rule-description"></a>Description de la règle

Pour étendre la facilité d’utilisation d’une collection, implémentez l’une des interfaces de collection génériques. Ensuite, la collection peut être utilisée pour remplir les types de collecte génériques tels que les suivants:

- <xref:System.Collections.Generic.List%601?displayProperty=fullName>
- <xref:System.Collections.Generic.Queue%601?displayProperty=fullName>
- <xref:System.Collections.Generic.Stack%601?displayProperty=fullName>

## <a name="how-to-fix-violations"></a>Comment corriger les violations

Pour corriger une violation de cette règle, implémentez l’une des interfaces de collecte génériques suivantes :

- <xref:System.Collections.Generic.IEnumerable%601?displayProperty=fullName>
- <xref:System.Collections.Generic.ICollection%601?displayProperty=fullName>
- <xref:System.Collections.Generic.IList%601?displayProperty=fullName>

## <a name="when-to-suppress-warnings"></a>Quand supprimer les avertissements

Il est sûr de supprimer un avertissement de cette règle; cependant, l’utilisation de la collection sera plus limitée.

## <a name="configurability"></a>Configurabilité

Si vous exécutez cette règle à partir [d’analyseurs FxCop](install-fxcop-analyzers.md) (et non avec l’analyse héritée), vous pouvez configurer les parties de votre base de code pour exécuter cette règle, en fonction de leur accessibilité. Par exemple, pour spécifier que la règle ne doit s’exécuter que par rapport à la surface non publique de l’API, ajoutez la paire de valeur clé suivante à un fichier .editorconfig dans votre projet :

```ini
dotnet_code_quality.ca1010.api_surface = private, internal
```

Vous pouvez configurer cette option pour cette règle, pour toutes les règles, ou pour toutes les règles de cette catégorie (Conception). Pour plus d’informations, voir [Configurer les analyseurs FxCop](configure-fxcop-analyzers.md).

### <a name="additional-required-generic-interfaces"></a>Interfaces génériques supplémentaires requises

Vous pouvez configurer la liste des noms d’interface (séparés par '') avec leur interface générique entièrement qualifiée requise (séparée par '->').

Formats d’interface autorisés :

- Nom de l’interface seulement (inclut toutes les interfaces avec le nom, quel que soit le type de contenu ou l’espace de nom).
- Noms entièrement qualifiés dans le format https://github.com/dotnet/csharplang/blob/master/spec/documentation-comments.md#id-string-format d’identification de documentation du symbole : avec un préfixe « T : » facultatif.

Exemples :

| Valeur d'option | Résumé |
| --- | --- |
|`dotnet_code_quality.CA1010.additional_required_generic_interfaces = ISomething->System.Collections.Generic.IEnumerable`\``1`| Tous les types de mise en œuvre de 'ISomething' indépendamment de son espace de nom sont censés également implémenter 'System.Collections.Generic.IEnumerable'1'. |
|`dotnet_code_quality.CA1010.additional_required_generic_interfaces = T:System.Collections.IDictionary->T:System.Collections.Generic.IDictionary`\``2`| Tous les types mettant en œuvre 'System.Collections.Generic.IDictionary' devraient également implémenter 'System.Collections.Generic.IDictionary'2'. |

## <a name="example-violation"></a>Exemple de violation

L’exemple suivant montre une classe (type de référence) qui dérive de la classe non générique, `CollectionBase` qui viole cette règle.

[!code-csharp[FxCop.Design.CollectionsGenericViolation#1](../code-quality/codesnippet/CSharp/ca1010-collections-should-implement-generic-interface_1.cs)]

Pour corriger une violation de cette règle, faites l’une des suivantes :

- Implémenter les interfaces génériques.
- Changez la classe de base en un type qui implémente `Collection<T>` déjà les interfaces génériques et non génériques, telles que la classe.

## <a name="fix-by-base-class-change"></a>Fixer par changement de classe de base

L’exemple suivant corrige la violation en changeant la classe `CollectionBase` de base `Collection<T>` de`Collection(Of T)` la collection de la classe non générique à la classe générique (dans Visual Basic).

[!code-csharp[FxCop.Design.CollectionsGenericBase#1](../code-quality/codesnippet/CSharp/ca1010-collections-should-implement-generic-interface_2.cs)]

Changer la classe de base d’une classe déjà libérée est considéré comme un changement radical pour les consommateurs existants.

## <a name="fix-by-interface-implementation"></a>Correction par implémentation d’interface

L’exemple suivant corrige la violation en mettant `IEnumerable<T>` `ICollection<T>`en `IList<T>` œuvre ces interfaces génériques: , , et ,`IEnumerable(Of T)` `ICollection(Of T)`, et `IList(Of T)` dans Visual Basic).

[!code-csharp[FxCop.Design.CollectionsGenericInterface#1](../code-quality/codesnippet/CSharp/ca1010-collections-should-implement-generic-interface_3.cs)]

## <a name="related-rules"></a>Règles connexes

- [CA1005 : Évitez trop de paramètres sur les types génériques](../code-quality/ca1005.md)
- [CA1000 : Ne pas déclarer de membres statiques sur les types génériques](../code-quality/ca1000.md)
- [CA1002 : Ne pas exposer de listes génériques](../code-quality/ca1002.md)
- [CA1006 : Ne pas imbriquer les types génériques dans les signatures de membre](../code-quality/ca1006.md)
- [CA1004 : Les méthodes génériques doivent fournir un paramètre de type](../code-quality/ca1004.md)
- [CA1003 : Utiliser les instances du gestionnaire d'événements génériques](../code-quality/ca1003.md)
- [CA1007 : Utiliser des méthodes génériques lorsque cela est approprié](../code-quality/ca1007.md)

## <a name="see-also"></a>Voir aussi

- [Génériques](/dotnet/csharp/programming-guide/generics/index)
