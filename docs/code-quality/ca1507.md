---
title: 'Ca1507 : utilisez nameof au lieu de String'
ms.date: 05/17/2019
ms.topic: reference
f1_keywords:
- UseNameofInPlaceOfString
- CA1507
helpviewer_keywords:
- UseNameofInPlaceOfString
- CA1507
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 2b075abb72da2dd477dd1f2d510c9f24cef5e972
ms.sourcegitcommit: d233ca00ad45e50cf62cca0d0b95dc69f0a87ad6
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/01/2020
ms.locfileid: "75585191"
---
# <a name="ca1507-use-nameof-in-place-of-string"></a>Ca1507 : utilisez `nameof` à la place de String

|||
|-|-|
|TypeName|UseNameofInPlaceOfString|
|CheckId|CA1507|
|Catégorie|Microsoft.Maintainability|
|Modification avec rupture|Sans rupture|

## <a name="cause"></a>Cause

Un `string` littéral ou une constante qui correspond au nom d’un paramètre de la méthode conteneur ou le nom d’une propriété du type conteneur est utilisé en tant qu’argument d’une méthode.

## <a name="rule-description"></a>Description de la règle

La règle ca1507 signale l’utilisation d’un littéral `string` en tant qu’argument à une méthode ou un constructeur où une expression [nameof](/dotnet/csharp/language-reference/keywords/nameof) (`NameOf` dans Visual Basic) ajoute la maintenabilité. La règle est déclenchée si toutes les conditions suivantes sont remplies :

- L’argument est un `string` littéral ou une constante.

- La valeur constante du littéral `string` correspond à l’un des éléments suivants :

  - Nom d’un paramètre de la méthode, d’une expression lambda ou d’une fonction locale dans laquelle la méthode ou le constructeur est appelé.

  - Nom d’une propriété du type dans lequel la méthode ou le constructeur est appelé.

- L’argument correspond à un paramètre de type `string`de la méthode ou du constructeur appelé (autrement dit, aucune conversion n’est impliquée sur le site d’appel).

La règle ca1507 améliore la maintenabilité du code dans les cas où le paramètre peut être renommé ultérieurement, mais le littéral `string` n’est pas renommé par erreur. En utilisant `nameof`, le symbole sera renommé lorsque le paramètre sera renommé par le biais d’une opération de refactorisation. En outre, toutes les fautes d’orthographe dans le nom du paramètre sont interceptées par le compilateur.

> [!NOTE]
> La règle ca1507 n’est pas disponible dans l’analyse héritée. Il a été introduit pour la première fois dans les [analyseurs FxCop](https://www.nuget.org/packages/Microsoft.CodeAnalysis.FxCopAnalyzers) version 2.6.0.

## <a name="how-to-fix-violations"></a>Comment corriger les violations

Pour corriger une violation, remplacez le littéral `string` par une expression [nameof](/dotnet/csharp/language-reference/keywords/nameof) (`NameOf` dans Visual Basic). Par exemple, les deux extraits de code suivants illustrent une violation de la règle et comment la corriger :

```csharp
public Book(string title)
{
    // Violates rule CA1507
    Title = title ?? throw new ArgumentNullException("title", "All books must have a title.");
}
```

```csharp
public Book(string title)
{
    // Resolves rule CA1507 violation
    Title = title ?? throw new ArgumentNullException(nameof(title), "All books must have a title.");
}
```

> [!TIP]
> Un correctif de code est disponible pour cette règle dans Visual Studio. Pour l’utiliser, positionnez le curseur sur le littéral `string` et appuyez sur **Ctrl**+ **.** (point). Choisissez **utiliser nameof pour exprimer des noms de symboles** dans la liste des options présentées.
>
> ![Correctif de code pour ca1507-utilisez nameof pour exprimer des noms de symboles](media/ca1507-code-fix.PNG)

## <a name="when-to-suppress-warnings"></a>Quand supprimer les avertissements

Il est possible de supprimer en toute sécurité une violation de cette règle si vous n’avez pas à vous soucier de la maintenabilité de votre code.

## <a name="related-rules"></a>Règles associées

- [CA2208 : Instanciez les exceptions d’argument correctement](ca2208.md)

## <a name="see-also"></a>Voir aussi

- [Avertissements de maintenabilité](../code-quality/maintainability-warnings.md)
