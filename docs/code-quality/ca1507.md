---
title: 'CA1507 : Utiliser nameof au lieu de String'
ms.date: 05/17/2019
ms.topic: reference
f1_keywords:
- UseNameofInPlaceOfString
- CA1507
helpviewer_keywords:
- UseNameofInPlaceOfString
- CA1507
author: gewarren
ms.author: gewarren
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: ff7864af84ea7586a6457be81f3350ae2943ab3e
ms.sourcegitcommit: 0c2523d975d48926dd2b35bcd2d32a8ae14c06d8
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/24/2019
ms.locfileid: "71234433"
---
# <a name="ca1507-use-nameof-in-place-of-string"></a>CA1507 : Utiliser `nameof` à la place de String

|||
|-|-|
|TypeName|UseNameofInPlaceOfString|
|CheckId|CA1507|
|Catégorie|Microsoft.Maintainability|
|Modification avec rupture|Sans rupture|

## <a name="cause"></a>Cause

Un `string` littéral ou une constante qui correspond au nom d’un paramètre de la méthode conteneur ou le nom d’une propriété du type conteneur est utilisé en tant qu’argument d’une méthode.

## <a name="rule-description"></a>Description de la règle

La règle ca1507 signale l’utilisation `string` d’un littéral comme argument à une méthode ou un constructeur où une`NameOf` expression [nameof](/dotnet/csharp/language-reference/keywords/nameof) (dans Visual Basic) ajoute la maintenabilité. La règle est déclenchée si toutes les conditions suivantes sont remplies :

- L’argument est un `string` littéral ou une constante.

- La valeur constante du `string` littéral correspond à l’un des éléments suivants :

  - Nom d’un paramètre de la méthode, d’une expression lambda ou d’une fonction locale dans laquelle la méthode ou le constructeur est appelé.

  - Nom d’une propriété du type dans lequel la méthode ou le constructeur est appelé.

- L’argument correspond à un `string`paramètre de type-typé de la méthode ou du constructeur appelé (autrement dit, aucune conversion n’est impliquée sur le site d’appel).

La règle ca1507 améliore la maintenabilité du code dans les cas où le paramètre peut être renommé ultérieurement, mais `string` le littéral n’est pas renommé par erreur. À l' `nameof`aide de, le symbole sera renommé lorsque le paramètre sera renommé par le biais d’une opération de refactorisation. En outre, toutes les fautes d’orthographe dans le nom du paramètre sont interceptées par le compilateur.

> [!NOTE]
> La règle ca1507 n’est pas disponible dans l’analyse héritée. Il a été introduit pour la première fois dans les [analyseurs FxCop](https://www.nuget.org/packages/Microsoft.CodeAnalysis.FxCopAnalyzers) version 2.6.0.

## <a name="how-to-fix-violations"></a>Comment corriger les violations

Pour corriger une violation, remplacez le littéral `string` par une expression [nameof](/dotnet/csharp/language-reference/keywords/nameof) (`NameOf` dans Visual Basic). Par exemple, les deux extraits de code suivants illustrent une violation de la règle et comment la corriger :

```csharp
public Book(string title)
{
    // Violates rule CA1507
    Title = title ?? throw new ArgumentNullException("title", "All books must have a title.");
}
```

```csharp
public Book(string title)
{
    // Resolves rule CA1507 violation
    Title = title ?? throw new ArgumentNullException(nameof(title), "All books must have a title.");
}
```

> [!TIP]
> Un correctif de code est disponible pour cette règle dans Visual Studio. Pour l’utiliser, placez le curseur sur le `string` littéral et appuyez sur **CTRL**+ **.** (point). Choisissez **utiliser nameof pour exprimer des noms de symboles** dans la liste des options présentées.
>
> ![Correctif de code pour ca1507-utilisez nameof pour exprimer des noms de symboles](media/ca1507-code-fix.PNG)

## <a name="when-to-suppress-warnings"></a>Quand supprimer les avertissements

Il est possible de supprimer en toute sécurité une violation de cette règle si vous n’avez pas à vous soucier de la maintenabilité de votre code.

## <a name="related-rules"></a>Règles associées

- [CA2208 Instancier les exceptions d’argument correctement](ca2208-instantiate-argument-exceptions-correctly.md)

## <a name="see-also"></a>Voir aussi

- [Avertissements de maintenabilité](../code-quality/maintainability-warnings.md)
