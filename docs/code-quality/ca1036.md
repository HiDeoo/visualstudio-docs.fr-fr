---
title: 'CA1036 : Substituer les méthodes sur les types Comparable'
ms.date: 03/11/2019
ms.topic: reference
f1_keywords:
- CA1036
- OverrideMethodsOnComparableTypes
helpviewer_keywords:
- OverrideMethodsOnComparableTypes
- CA1036
ms.assetid: 2329f844-4cb8-426d-bee2-cd065d1346d0
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: e61067bf85be3cb75546657f2b71e195727f5bb4
ms.sourcegitcommit: a18c7e9b367c2f92f6e54c3eaef442775d457667
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/15/2020
ms.locfileid: "90096733"
---
# <a name="ca1036-override-methods-on-comparable-types"></a>CA1036 : Substituer les méthodes sur les types Comparable

|Élément|Valeur|
|-|-|
|ID de la règle|CA1036|
|Category|Microsoft. Design|
|Modification avec rupture|Sans rupture|

## <a name="cause"></a>Cause

Un type implémente l' <xref:System.IComparable?displayProperty=fullName> interface et ne substitue pas <xref:System.Object.Equals%2A?displayProperty=fullName> ou ne surcharge pas l’opérateur propre au langage pour l’égalité, l’inégalité, le signe inférieur à ou supérieur à. La règle ne signale pas de violation si le type hérite uniquement d’une implémentation de l’interface.

Par défaut, cette règle examine uniquement les types publics et protégés, mais cela peut [être configuré](#configurability).

## <a name="rule-description"></a>Description de la règle

Les types qui définissent un ordre de tri personnalisé implémentent l' <xref:System.IComparable> interface. La <xref:System.IComparable.CompareTo%2A> méthode retourne une valeur entière qui indique l’ordre de tri correct pour deux instances du type. Cette règle identifie les types qui définissent un ordre de tri. La définition d’un ordre de tri implique que la signification ordinaire de l’égalité, l’inégalité, le signe inférieur à et le signe supérieur ne s’appliquent pas. Lorsque vous fournissez une implémentation de <xref:System.IComparable> , vous devez également substituer la <xref:System.Object.Equals%2A> méthode afin qu’elle retourne des valeurs cohérentes avec <xref:System.IComparable.CompareTo%2A> . Si vous substituez <xref:System.Object.Equals%2A> et que vous écrivez du code dans un langage qui prend en charge les surcharges d’opérateur, vous devez également fournir des opérateurs qui sont cohérents avec <xref:System.Object.Equals%2A> .

## <a name="how-to-fix-violations"></a>Comment corriger les violations

Pour corriger une violation de cette règle, remplacez <xref:System.Object.Equals%2A> . Si votre langage de programmation prend en charge la surcharge d’opérateur, fournissez les opérateurs suivants :

- op_Equality
- op_Inequality
- op_LessThan
- op_GreaterThan

En C#, les jetons utilisés pour représenter ces opérateurs sont les suivants :

```csharp
==
!=
<
>
```

## <a name="when-to-suppress-warnings"></a>Quand supprimer les avertissements

Il est possible de supprimer sans risque un avertissement de la règle CA1036 lorsque la violation est provoquée par des opérateurs manquants et que votre langage de programmation ne prend pas en charge la surcharge d’opérateur, comme c’est le cas avec Visual Basic. Si vous déterminez que l’implémentation des opérateurs n’a pas de sens dans le contexte de votre application, il est également possible de supprimer un avertissement de cette règle lorsqu’il se déclenche sur des opérateurs d’égalité autres que op_Equality. Toutefois, vous devez toujours substituer op_Equality et l’opérateur = = si vous substituez <xref:System.Object.Equals%2A?displayProperty=nameWithType> .

## <a name="configurability"></a>Configurabilité

Vous pouvez configurer les parties de votre code base pour exécuter cette règle, en fonction de leur accessibilité. Par exemple, pour spécifier que la règle doit s’exécuter uniquement sur la surface d’API non publique, ajoutez la paire clé-valeur suivante à un fichier. editorconfig dans votre projet :

```ini
dotnet_code_quality.ca1036.api_surface = private, internal
```

Vous pouvez configurer cette option uniquement pour cette règle, pour toutes les règles ou pour toutes les règles de cette catégorie (conception). Pour plus d’informations, consultez [configurer des analyseurs de qualité du code .net](configure-fxcop-analyzers.md).

## <a name="examples"></a>Exemples

Le code suivant contient un type qui implémente correctement <xref:System.IComparable> . Les commentaires de code identifient les méthodes qui répondent à différentes règles relatives à <xref:System.Object.Equals%2A> et à l' <xref:System.IComparable> interface.

[!code-csharp[FxCop.Design.IComparable#1](../code-quality/codesnippet/CSharp/ca1036-override-methods-on-comparable-types_1.cs)]

Le code d’application suivant teste le comportement de l' <xref:System.IComparable> implémentation présentée précédemment.

[!code-csharp[FxCop.Design.TestIComparable#1](../code-quality/codesnippet/CSharp/ca1036-override-methods-on-comparable-types_2.cs)]

## <a name="see-also"></a>Voir aussi

- <xref:System.IComparable?displayProperty=fullName>
- <xref:System.Object.Equals%2A?displayProperty=fullName>
- [Opérateurs d'égalité](/dotnet/standard/design-guidelines/equality-operators)
